"use strict";function search(){reset();var e=$("input#search").val().trim(),n=$("ul#searchResult"),a=$("ul#searchLog");if(""!==e){var i=new AV.Query("Song");i.contains("name",e),i.find().then(function(e){if(console.log(1),n.empty(),0===e.length);else for(var a=0;a<e.length;a++){var i=e[a].attributes,s='\n                                <div>\n                                    <svg class="icon">\n                                        <use xlink:href="#icon-search"></use>\n                                    </svg>\n                                    <a href="./song.html?id='+e[a].id+'"><li data-id="'+e[a].id+'">'+i.name+" - "+i.singer+"</li></a>\n                                </div>\n                             ";n.append(s)}}),i.find().then(function(e){if(0===e.length);else for(var n=0;n<e.length;n++){var i=e[n].attributes,s='\n                                <div id="div">\n                                    <svg class="icon icon3">\n                                        <use xlink:href="#icon-shizhong"></use>\n                                    </svg>\n                                    <a href="./song.html?id='+e[n].id+'"><li data-id="'+e[n].id+'">'+i.name+" - "+i.singer+'</li></a>\n                                    <svg id="icon4" class="icon icon4">\n                                        <use xlink:href="#icon-quxiao1"></use>\n                                    </svg>\n                                </div>\n\n                             ';a.prepend(s)}})}else $("label").removeClass("noactive")}function reset(){$("label").addClass("noactive"),$(".icon2").addClass("active")}$(".icon2").on("click",function(e){$("input#search").val(""),$("label").removeClass("noactive"),$("#searchKey").empty(),$("#wrapper").removeClass("noactive"),$("#searchLog").removeClass("noactive"),$("#searchResult").addClass("noactive")}),$("#hot-search").on("click","li",function(e){reset();var n=$(e.currentTarget).text();$("input#search").val(n);var a=null;a&&window.clearTimeout(a),a=setTimeout(function(){a=null,search(),$("#searchResult").removeClass("noactive"),$("#searchLog").addClass("noactive"),$("#wrapper").addClass("noactive"),$("#searchKey").empty();var n=$(e.currentTarget).text();console.log(n);var i='<li>搜索"'+n+'"<li/>';$("#searchKey").append(i)},400)}),$("#searchLog").on("click","#icon4",function(e){$(e.currentTarget).parent().remove()});