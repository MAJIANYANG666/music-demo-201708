"use strict";define(["jquery","av"],function(n,s){function i(n,s){return'<li>\n            <a href="./song.html?id='+s.id+'">\n              <div class="wrapper">\n                <h3>'+n.name+'</h3>\n                <svg class="icon " >\n                  <use xlink:href="#icon-SQ"></use>\n                </svg>\n                <span>'+n.singer+'</span>\n              </div>\n              <svg class="icon " >\n                <use xlink:href="#icon-bofangjian60px"></use>\n              </svg>\n            </a>\n          </li>'}function e(n,s,i){return n<9?'<li>\n            <a href="./song.html?id='+i.id+'">\n            <p >0'+(n+1)+'</p>\n              <div class="wrapper">\n                <h3>'+s.name+'</h3>\n                <svg class="icon " >\n                  <use xlink:href="#icon-SQ"></use>\n                </svg>\n                <span>'+s.singer+'</span>\n              </div>\n              <svg class="icon " >\n                <use xlink:href="#icon-bofangjian60px"></use>\n              </svg>\n            </a>\n          </li>':'<li>\n            <a href="./song.html?id='+i.id+'">\n            <p >'+(n+1)+'</p>\n              <div class="wrapper">\n                <h3>'+s.name+'</h3>\n                <svg class="icon " >\n                  <use xlink:href="#icon-SQ"></use>\n                </svg>\n                <span>'+s.singer+'</span>\n              </div>\n              <svg class="icon " >\n                <use xlink:href="#icon-bofangjian60px"></use>\n              </svg>\n            </a>\n          </li>'}function a(){return new s.Query("Song").find()}function r(s){n("#songs-loading").remove();for(var a=0;a<s.length;a++){var r=i(s[a].attributes,s[a]);n("ul#song").append(r)}n("#hot-songs-loading").remove();for(var o=0;o<s.length;o++){var l=e(o,s[o].attributes,s[o]);n("ul#hot-song").append(l)}}return function(){a().then(r,function(n){alert("获取歌曲失败")})}});